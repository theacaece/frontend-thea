<app-header></app-header>

<div align="center">
	<br/><br/>
	<div class="row">
		<div class="col-md-4 col-md-offset-4">
        <fieldset>
        	<br/>
            <form #personForm="ngForm" (ngSubmit)="save(personForm.value)">
              <mat-card-content>
              	<mat-card-title>Agregar Persona</mat-card-title>
              
              	<input type="hidden" name="href" [(ngModel)]="person.href">
              	<input id="edit-formula" type="hidden" name="href" [(ngModel)]="person.personData">
                
                <mat-form-field>
                    <input matInput placeholder="Nombre" [(ngModel)]="person.nombre" minlength="2" maxlength="32"
                          pattern="[A-Za-z ñÑ]{2,32}"
                          required [formControl]="nombre" />
                    <mat-error *ngIf="nombre.hasError('required')">
                      Debe completar nombre
                    </mat-error>
                </mat-form-field><br/>
                
                <mat-form-field>
                  <input matInput placeholder="Apellido" [(ngModel)]="person.apellido" minlength="2" maxlength="32"
                         pattern="[A-Za-z ñÑ]{2,32}"
                         required [formControl]="apellido" />
                    <mat-error *ngIf="apellido.hasError('required')">
                      Debe completar apellido
                    </mat-error>
                </mat-form-field><br/>
                
                <mat-form-field>
                  <input matInput placeholder="Dni" [(ngModel)]="person.dni" minlength="8" maxlength="8"
                        pattern="-?[0-9]+(\.[0-9][0-9]?)?"
                        required [formControl]="dni" />
                  <mat-error *ngIf="dni.hasError('required')">
                    Debe completar dni
                  </mat-error>
                </mat-form-field><br/>
                
                <mat-form-field>
                  <input matInput placeholder="Matricula" [(ngModel)]="person.matricula" minlength="6" maxlength="7"
                        pattern="-?[0-9]+(\.[0-9][0-9]?)?"
                        required [formControl]="matricula" />
                  <mat-error *ngIf="matricula.hasError('required')">
                    Debe completar matricula
                  </mat-error>
                </mat-form-field><br/>

              	<mat-card-footer><br/>
                  <button id="submit" mat-raised-button color="primary" type="submit" 
                          [disabled]="!personForm.form.valid">Guardar</button>
              		<span style="display:inline-block; width: 0.5em;"></span>
              		<a mat-raised-button color="primary" routerLink="/person-list">Cancelar</a>
              	</mat-card-footer>
                
                <mat-error class="alert alert-danger" *ngIf="error">{{error}}</mat-error>
                
            	</mat-card-content>
            
           	 </form>
        	</fieldset>
		</div>
 	</div>
 </div>
 
